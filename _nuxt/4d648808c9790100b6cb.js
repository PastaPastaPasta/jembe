(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1577:function(e,t,n){"use strict";n(19),n(14),n(12),n(17),n(125);var r=n(6),o=n(3),c=(n(61),n(7),n(216));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=function(e){return new Promise((function(t){return setTimeout(t,e)}))},h={components:{},data:function(){return{isLoading:!1}},computed:{deeplink:function(){return"http://evowallet.io/#/?name=".concat(this.$store.state.name.label)}},methods:d(d({},Object(c.b)(["registerNameOnceBalance","onboard"])),{},{onboardMe:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!e.$store.state.identityId){t.next=7;break}return t.next=4,e.onboard();case 4:e.isLoading=!1,t.next=10;break;case 7:return t.next=9,m(1e3);case 9:e.onboardMe();case 10:case"end":return t.stop()}}),t)})))()}})},f=n(144),y=n(260),x=n.n(y),v=n(425),component=Object(f.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["createAccount"!==e.$store.state.onboardType?n("v-btn",{staticClass:"ml-2 mb-4",staticStyle:{"border-top-left-radius":"13px","border-bottom-right-radius":"13px","border-top-right-radius":"1px","border-bottom-left-radius":"1px"},attrs:{large:"",color:"primary",disabled:!this.$store.state.name.isValid,loading:e.isLoading},on:{click:function(t){return e.onboardMe()}}},[e._v("\n    "+e._s(this.$store.state.onboardText)+"\n  ")]):e._e(),e._v(" "),"createAccount"===e.$store.state.onboardType?n("v-btn",{staticClass:"ml-2 mb-4",staticStyle:{"border-top-left-radius":"13px","border-bottom-right-radius":"13px","border-top-right-radius":"1px","border-bottom-left-radius":"1px"},attrs:{large:"",color:"primary",href:e.deeplink,target:"_blank"}},[e._v("\n    "+e._s(this.$store.state.onboardText)+"\n  ")]):e._e(),e._v(" "),e.isLoading?n("span",[e._v("\n    "+e._s(this.$store.getters.getLoadingStep)+"\n  ")]):e._e()],1)}),[],!1,null,null,null);t.a=component.exports;x()(component,{VBtn:v.a})},1578:function(e,t,n){"use strict";var r=n(144),component=Object(r.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("p",{staticStyle:{"font-family":"'Open Sans', sans-serif","font-size":"12pt"}})}),[],!1,null,null,null);t.a=component.exports},1579:function(e,t,n){"use strict";var r=n(144),component=Object(r.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("p",{staticStyle:{color:"#2185d0","font-family":"montserrat","font-size":"2rem","font-weight":"700","line-height":"1"}},[this._v("\n  Join The Conversation\n")])}),[],!1,null,null,null);t.a=component.exports},1585:function(e,t,n){"use strict";var r=n(2),o=n(216),c=r.a.extend({data:()=>({loading:!1,items:[],search:null,name:"",onboardType:"signup",onboardText:{login:"Log In",signup:"Sign Up",createAccount:"Create Account"},nameExists:!1,nameErrors:[],nameSuccess:[],nameMessages:[],loginPinRules:[e=>!!e||"Enter the DAPP PIN shown in your wallet.",e=>/^\d{6}$/.test(e)||"Please enter a 6 digit number."],nameRules:[e=>!!e||"Let's start with who your are..",e=>!!e&&e.length<64||"Name can be max 63 characters.",e=>/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(e.text)||"Name can consists of A-Z,  0-9 and - within the name"]}),computed:{loginPin:{get(){return this.$store.state.name.uidPin},set(e){this.$store.commit("setUidPin",e)}}},watch:{async search(e){console.log("Name start search :>> ",e),console.log("current this.name :>> ",this.name),console.log("this.querySelections(val) :>> ",this.querySelections(e));const t=this.name?this.name.split(":")[0]:null;console.log("curVal :>> ",t),e&&e!==t&&await this.querySelections(e)}},methods:{...Object(o.d)(["setName","setNameValid","setUidPin","setUserId","setUserIdentityId","setOnboardText","setOnboardType"]),...Object(o.b)(["searchDashNames","dashNameExists","registerNameOnceBalance","isSignedUp","signupRequest","delegatedCredentialsRequest","onboard"]),async querySelections(e){if(!e)return;this.loading=!0;const t=await this.searchDashNames(e);this.items=t.map(e=>({text:e.data.label,value:`${e.data.label}:${e.id}`}));!t.map(e=>(console.log(e.data),e.data.normalizedLabel)).includes(e.toLowerCase())&&(this.items=[...this.items,{header:"Create new Account",text:e,value:e},{divider:!0,text:e,value:e},{text:" "+e,value:e+":newAccount"}]),this.loading=!1},validateName(e){this.items=[{text:e.split(":")[0],value:e}],console.log("event :>> ",e),console.log("event.split(:)[0]) :>> ",e.split(":")[0]),this.name=e,this.nameErrors=[],this.nameSuccess=[],this.nameMessages=[],console.log("this.name :>> ",this.name),this.setName(this.name.split(":")[0]),this.setNameValid(!1),this.nameExists=!1,this.timer&&(clearTimeout(this.timer),this.timer=null),this.checkIfNameExists(this.name.split(":")[0],e)},async checkIfNameExists(e,t){this.$store.commit("setOnboardText",this.onboardText[this.onboardType]),console.log("Checking if name is taken: ",e),this.nameMessages=["Checking if this is your first time.."];const n=await this.dashNameExists(e);if(n){this.onboardType="signup",this.setUserId(n.$id),this.setUserIdentityId(n.$ownerId),this.setOnboardText(this.onboardText[this.onboardType]),this.setOnboardType(this.onboardType);const r=await this.isSignedUp({userId:n.$id});console.log("nameIsSignedUp :>> ",r),r&&(this.onboardType="login",this.setOnboardText(this.onboardText[this.onboardType]),this.setOnboardType(this.onboardType)),this.nameErrors=[],"signup"===this.onboardType?this.nameSuccess=[`This is your first time, ${e}. Please sign up.`]:"login"===this.onboardType&&(this.nameSuccess=[`Welcome back, ${e}! Go ahead and log in.`]),this.setNameValid(!0),this.nameExists=!0,this.setName(this.name.split(":")[0]),13===t.keyCode&&this.onboard()}else{this.nameSuccess=[`Hi ${this.name.split(":")[0]}, let's create you a new Dash Account`],this.setNameValid(!1),this.nameExists=!1,this.setName(this.name.split(":")[0]);window.open("http://evowallet.io/#/?name="+this.name.split(":")[0],"_blank").focus(),this.onboardType="createAccount",this.setOnboardText(this.onboardText[this.onboardType]),this.setOnboardType(this.onboardType)}}}}),l=n(144),d=n(260),m=n.n(d),h=n(1621),f=n(1555),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-autocomplete",{staticClass:"mx-auto",staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{value:e.name,"auto-select-first":"",outlined:"",label:"Enter Username",loading:e.loading,items:e.items,"search-input":e.search,"hide-no-data":"",disabled:this.$store.state.isSyncing,rules:e.nameRules,"error-messages":e.nameErrors,"success-messages":e.nameSuccess,messages:e.nameMessages},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},input:function(t){return e.validateName(t)}}}),e._v(" "),e.nameExists?n("v-text-field",{staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{outlined:"",label:"DAPP PIN",rules:e.loginPinRules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onboard()}},model:{value:e.loginPin,callback:function(t){e.loginPin=t},expression:"loginPin"}}):e._e()],1)}),[],!1,null,null,null),y=component.exports;m()(component,{VAutocomplete:h.a,VTextField:f.a});var x=n(1577),v=n(1579),O=n(1578),w={components:{NameAutocomplete:y,NameButton:x.a,Headline:v.a,Subline:O.a}},T=n(1575),N=n(1574),k=n(1615),E=n(1626),P=n(1616),S=Object(l.a)(w,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{attrs:{"fill-height":""}},[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",[t("v-card",{staticClass:"mx-auto",attrs:{loading:this.$store.state.isSyncing,"max-width":"600px"}},[t("v-card-text",{staticClass:"mb-n7"},[t("Headline"),this._v(" "),t("Subline",{staticClass:"headline"}),this._v(" "),t("NameAutocomplete")],1),this._v(" "),t("v-card-actions",[t("NameButton")],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.a=S.exports;m()(S,{VCard:T.a,VCardActions:N.a,VCardText:N.b,VCol:k.a,VContainer:E.a,VRow:P.a})},1618:function(e,t,n){"use strict";n.r(t);n(19),n(14),n(12),n(7),n(17),n(125);var r=n(6),o=n(3),c=(n(61),n(216));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={components:{},data:function(){return{name:"",onboardType:"signup",onboardText:{login:"Log In",signup:"Sign Up"},nameExists:!1,nameErrors:[],nameSuccess:[],nameMessages:[],loginPinRules:[function(e){return!!e||"Enter the Login PIN shown in your wallet."},function(e){return/^\d{6}$/.test(e)||"Please enter a 6 digit number."}],nameRules:[function(e){return!!e||"Let's start with who your are.."},function(e){return!!e&&e.length<64||"Name can be max 63 characters."},function(e){return/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(e)||"Name can consists of A-Z,  0-9 and - within the name"}]}},computed:{loginPin:{get:function(){return this.$store.state.name.uidPin},set:function(e){this.$store.commit("setUidPin",e)}}},created:function(){this.name=this.$store.state.name.label},methods:d(d(d({},Object(c.b)(["dashNameExists","registerNameOnceBalance","isSignedUp","signupRequest","delegatedCredentialsRequest","onboard"])),Object(c.d)(["setName","setNameValid","setUidPin","setUserId","setUserIdentityId","setOnboardText","setOnboardType"])),{},{validateName:function(e){var t=this;this.nameErrors=[],this.nameSuccess=[],this.nameMessages=[],this.setName(this.name),this.setNameValid(!1),this.nameExists=!1,this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){t.name&&/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(t.name)&&t.name.length<64&&t.checkIfNameExists(t.name,e)}),300)},checkIfNameExists:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.$store.commit("setOnboardText",n.onboardText[n.onboardType]),console.log("Checking if name is taken: ",e),n.name===e){r.next=4;break}return r.abrupt("return");case 4:return n.nameMessages=["Checking if name is registered.."],r.next=7,n.dashNameExists(e);case 7:if(o=r.sent,console.log("nameExists :>> ",o),n.name===e){r.next=11;break}return r.abrupt("return");case 11:if(o){r.next=19;break}n.nameErrors=["".concat(e," does not exist, double check your spelling..")],n.nameSuccess=[],n.setNameValid(!1),n.nameExists=!1,n.setName(n.name),r.next=35;break;case 19:return n.onboardType="signup",n.setUserId(o.$id),n.setUserIdentityId(o.$ownerId),n.setOnboardText(n.onboardText[n.onboardType]),n.setOnboardType(n.onboardType),r.next=26,n.isSignedUp({userId:o.$id});case 26:c=r.sent,console.log("nameIsSignedUp :>> ",c),c&&(n.onboardType="login",n.setOnboardText(n.onboardText[n.onboardType]),n.setOnboardType(n.onboardType)),n.nameErrors=[],n.nameSuccess=["".concat(e," exists, ready to ").concat(n.onboardText[n.onboardType])],n.setNameValid(!0),n.nameExists=!0,n.setName(n.name),13===t.keyCode&&n.onboard();case 35:case"end":return r.stop()}}),r)})))()}})},h=n(144),f=n(260),y=n.n(f),x=n(1555),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-text-field",{staticClass:"mx-auto",staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{outlined:"",label:"Enter Username",value:this.$store.state.name.label,disabled:this.$store.state.isSyncing,rules:e.nameRules,"error-messages":e.nameErrors,"success-messages":e.nameSuccess,messages:e.nameMessages},on:{keyup:function(t){return e.validateName(t)},input:function(t){return e.validateName(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),e.nameExists?n("v-text-field",{staticStyle:{"font-size":"1.6rem","font-weight":"700","padding-top":"0.5em","padding-bottom":"0.5em"},attrs:{outlined:"",label:"Login PIN",rules:e.loginPinRules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onboard()}},model:{value:e.loginPin,callback:function(t){e.loginPin=t},expression:"loginPin"}}):e._e()],1)}),[],!1,null,null,null),v=component.exports;y()(component,{VTextField:x.a});var O=n(1577),w=n(1579),T=n(1578),N={components:{NameField:v,NameButton:O.a,Headline:w.a,Subline:T.a}},k=n(1615),E=n(1626),P=n(1616),S=Object(h.a)(N,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("Headline")],1)],1),this._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("Subline")],1)],1),this._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("NameField")],1)],1),this._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("NameButton")],1)],1)],1)}),[],!1,null,null,null),$=S.exports;y()(S,{VCol:k.a,VContainer:E.a,VRow:P.a});var _={components:{Mobile:$,Desktop:n(1585).a}},j=Object(h.a)(_,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{attrs:{"fill-height":""}},[t("Desktop")],1)}),[],!1,null,null,null);t.default=j.exports;y()(j,{VContainer:E.a})}}]);